{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"stylesheet\",\n  href: \"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"ui grid\"\n};\nconst _hoisted_3 = {\n  class: \"six wide column\"\n};\nconst _hoisted_4 = {\n  class: \"ui segment large form\"\n};\nconst _hoisted_5 = {\n  class: \"field\"\n};\nconst _hoisted_6 = {\n  class: \"ui right icon input large\"\n};\nconst _hoisted_7 = {\n  class: \"field\"\n};\nconst _hoisted_8 = {\n  class: \"two fields\"\n};\nconst _hoisted_9 = {\n  class: \"field\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"restaurant\",\n  selected: \"\"\n}, \"Restaurants\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"bar\"\n}, \"Bars\", -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_10, _hoisted_11];\nconst _hoisted_13 = {\n  class: \"field\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"1\\\" selected>1 KM</option><option value=\\\"2\\\">2 KM</option><option value=\\\"3\\\">3 KM</option><option value=\\\"4\\\">4 KM</option><option value=\\\"5\\\">5 KM</option>\", 5);\nconst _hoisted_19 = [_hoisted_14];\nconst _hoisted_20 = {\n  class: \"ui segment\",\n  style: {\n    \"max-height\": \"500px\",\n    \"overflow\": \"scroll\"\n  }\n};\nconst _hoisted_21 = {\n  class: \"ui divided items\"\n};\nconst _hoisted_22 = {\n  class: \"content\"\n};\nconst _hoisted_23 = {\n  class: \"header\"\n};\nconst _hoisted_24 = {\n  class: \"meta\"\n};\nconst _hoisted_25 = {\n  class: \"ten wide column segment ui\",\n  ref: \"map\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Search for a place\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $options.coordinates = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $options.coordinates]]), _createElementVNode(\"i\", {\n    class: \"search link icon\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.findLocations && $options.findLocations(...args))\n  })])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.type = $event)\n  }, _hoisted_12, 512 /* NEED_PATCH */), [[_vModelSelect, $data.type]])]), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.radius = $event)\n  }, _hoisted_19, 512 /* NEED_PATCH */), [[_vModelSelect, $data.radius]])])])]), _createElementVNode(\"button\", {\n    class: \"ui button pink\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.findNearby && $options.findNearby(...args))\n  }, \"Find Locations\")]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.places, place => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"item\",\n      key: place.id\n    }, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, _toDisplayString(place.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_24, _toDisplayString(place.vicinity), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_25, null, 512 /* NEED_PATCH */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";gCACIA,oBAAmG;EAA7FC,GAAG,EAAC,YAAY;EAACC,IAAI,EAAC;;;EACvBC,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAiB;;EAClBA,KAAK,EAAC;AAAuB;;EAC1BA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAA2B;;EAMrCA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAO;iCAEVH,oBAAwD;EAAhDI,KAAK,EAAC,YAAY;EAACC,QAAQ,EAAR;GAAS,aAAW;iCAC/CL,oBAAiC;EAAzBI,KAAK,EAAC;AAAK,GAAC,MAAI;qBADxBE,WAAwD,EACxDC,WAAiC;;EAKpCJ,KAAK,EAAC;AAAO;;qBAEVK,WAAwC;;EAavDL,KAAK,EAAC,YAAY;EAACM,KAA0C,EAA1C;IAAA;IAAA;EAAA;;;EACfN,KAAK,EAAC;AAAkB;;EAEhBA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAM;;EAOhCA,KAAK,EAAC,4BAA4B;EAACO,GAAG,EAAC;;;6DAhDhDC,UAAmG,EACnGX,oBAiDM,OAjDNY,UAiDM,GAhDFZ,oBA6CM,OA7CNa,UA6CM,GA5CFb,oBA+BO,QA/BPc,UA+BO,GA9BHd,oBAKM,OALNe,UAKM,GAJFf,oBAGM,OAHNgB,UAGM,mBAFFhB,oBAA0E;IAAnEiB,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,oBAAoB;+DAAUC,oBAAW;iDAAXA,oBAAW,KACxEnB,oBAAuD;IAApDG,KAAK,EAAC,kBAAkB;IAAEiB,OAAK,yCAAED,yDAAa;UAIzDnB,oBAoBM,OApBNqB,UAoBM,GAnBFrB,oBAkBM,OAlBNsB,UAkBM,GAjBFtB,oBAKM,OALNuB,UAKM,mBAJFvB,oBAGS;+DAHQwB,UAAI;0DAAJA,UAAI,OAOzBxB,oBAQM,OARNyB,WAQM,mBAPFzB,oBAMS;+DANQwB,YAAM;0DAANA,YAAM,WAWnCxB,oBAA0E;IAAlEG,KAAK,EAAC,gBAAgB;IAAEiB,OAAK,yCAAED,mDAAU;KAAE,gBAAc,KAGrEnB,oBASM,OATN0B,WASM,GARF1B,oBAOM,OAPN2B,WAOM,sBANFC,oBAKMC,6BAL4BL,YAAM,EAAfM,KAAK;yBAA9BF,oBAKM;MALDzB,KAAK,EAAC,MAAM;MAA0B4B,GAAG,EAAED,KAAK,CAACE;QAClDhC,oBAGM,OAHNiC,WAGM,GAFFjC,oBAAwC,OAAxCkC,WAAwC,mBAAlBJ,KAAK,CAACK,IAAI,kBAChCnC,oBAA0C,OAA1CoC,WAA0C,mBAAtBN,KAAK,CAACO,QAAQ;wCAOtDrC,oBACM,OADNsC,WACM","names":["_createElementVNode","rel","href","class","value","selected","_hoisted_10","_hoisted_11","_hoisted_14","style","ref","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","placeholder","$options","onClick","_hoisted_7","_hoisted_8","_hoisted_9","$data","_hoisted_13","_hoisted_20","_hoisted_21","_createElementBlock","_Fragment","place","key","id","_hoisted_22","_hoisted_23","name","_hoisted_24","vicinity","_hoisted_25"],"sourceRoot":"","sources":["/Users/caitlinyap/Documents/GitHub/wad2test1/src/components/NearbyPlaces.vue"],"sourcesContent":["<template>\n    <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"/>\n    <div class=\"ui grid\">\n        <div class=\"six wide column\">\n            <form class=\"ui segment large form\">\n                <div class=\"field\">\n                    <div class=\"ui right icon input large\">\n                        <input type=\"text\" placeholder=\"Search for a place\" v-model=\"coordinates\">\n                        <i class=\"search link icon\" @click=\"findLocations\"></i>\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <div class=\"two fields\">\n                        <div class=\"field\">\n                            <select v-model=\"type\">\n                                <option value=\"restaurant\" selected>Restaurants</option>\n                                <option value=\"bar\">Bars</option>\n                            </select>\n                        </div>\n\n\n                        <div class=\"field\">\n                            <select v-model=\"radius\">\n                                <option value=\"1\" selected>1 KM</option>\n                                <option value=\"2\">2 KM</option>\n                                <option value=\"3\">3 KM</option>\n                                <option value=\"4\">4 KM</option>\n                                <option value=\"5\">5 KM</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                <button class=\"ui button pink\" @click=\"findNearby\">Find Locations</button>\n            </form>\n\n            <div class=\"ui segment\" style=\"max-height: 500px; overflow:scroll\">\n                <div class=\"ui divided items\">\n                    <div class=\"item\" v-for=\"place in places\" :key=\"place.id\">\n                        <div class=\"content\">\n                            <div class=\"header\">{{place.name}}</div>\n                            <div class=\"meta\">{{place.vicinity}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <div class=\"ten wide column segment ui\" ref=\"map\">\n        </div>\n    </div>\n</template>\n\n<script> \nimport axios from 'axios';\n\n/* eslint-disable */\nexport default {\n    data() {\n        return {\n            type: \"\",\n            radius: \"\",\n            lat: 0,\n            lng: 0,\n            places: []\n        }\n    },\n    computed:{\n        coordinates(){\n            return `${this.lat}, ${this.lng}`;\n        }\n    },\n    methods: {\n        findLocations() {\n            navigator.geolocation.getCurrentPosition(\n                position => {\n                    this.lat = position.coords.latitude;\n                    this.lng = position.coords.longitude;\n                },\n                error => {\n                    console.log(\"Error getting location\");\n                }\n            );\n        },\n        findNearby(){\n            const URL = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.lat},${this.lng}&type=${this.type}&radius=${this.radius * 1000}&key=AIzaSyCTHZllCldMYoM9ByF8AcxKPWvIuFJsTx4`;\n            console.log(URL);\n            axios.get(URL)\n                .then(response => {\n                    this.places = response.data.results;\n                    this.addLocationsToGoogleMaps();\n                })\n                .catch( error => {\n                    console.log(error.message);\n                });\n        },\n        addLocationsToGoogleMaps(){\n            var map = new google.maps.Map(this.$refs[\"map\"],{\n                zoom: 15,\n                center: new google.maps.LatLng(this.lat, this.lng),\n                mapTypeId: google.maps.MapTypeId.ROADMAO\n            });\n\n            var infowindow = new google.maps.InfoWindow();\n\n            this.places.forEach(place => {\n                const lat = place.geometry.location.lat;\n                const lng = place.geometry.location.lng;\n\n                let marker = new google.maps.Marker({\n                    position: new google.maps.LatLng(lat,lng),\n                    map: map\n                });\n\n                google.maps.event.addListener(marker, \"click\", () => {\n\n                    infowindow.setContent(\n                        `<div class=\"ui header\">${place.name}</div>\n                        <p>${place.vicinity}</p>`\n                    );\n\n                    infowindow.open(map, marker);\n                });\n            })\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}