{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3d6d0a5b\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"stylesheet\",\n  href: \"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_2 = {\n  key: 0,\n  class: \"toast-wrap\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"toastnotif\"\n}, \" loading... \", -1 /* HOISTED */));\nconst _hoisted_4 = [_hoisted_3];\nconst _hoisted_5 = {\n  class: \"ui grid\"\n};\nconst _hoisted_6 = {\n  class: \"six wide column\"\n};\nconst _hoisted_7 = {\n  class: \"ui segment large form\"\n};\nconst _hoisted_8 = {\n  class: \"field\"\n};\nconst _hoisted_9 = {\n  class: \"ui right icon input large\"\n};\nconst _hoisted_10 = [\"value\"];\nconst _hoisted_11 = {\n  class: \"field\"\n};\nconst _hoisted_12 = {\n  class: \"two fields\"\n};\nconst _hoisted_13 = {\n  class: \"field\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"restaurant\",\n  selected: \"\"\n}, \"Restaurants\", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"bar\"\n}, \"Bars\", -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"activities\"\n}, \"Activities\", -1 /* HOISTED */));\nconst _hoisted_17 = [_hoisted_14, _hoisted_15, _hoisted_16];\nconst _hoisted_18 = {\n  class: \"field\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"1\\\" selected data-v-3d6d0a5b>1 KM</option><option value=\\\"2\\\" data-v-3d6d0a5b>2 KM</option><option value=\\\"3\\\" data-v-3d6d0a5b>3 KM</option><option value=\\\"4\\\" data-v-3d6d0a5b>4 KM</option><option value=\\\"5\\\" data-v-3d6d0a5b>5 KM</option>\", 5);\nconst _hoisted_24 = [_hoisted_19];\nconst _hoisted_25 = {\n  class: \"ui segment\",\n  style: {\n    \"max-height\": \"500px\",\n    \"overflow\": \"scroll\"\n  }\n};\nconst _hoisted_26 = {\n  class: \"ui divided items\"\n};\nconst _hoisted_27 = {\n  class: \"content\"\n};\nconst _hoisted_28 = {\n  class: \"header\"\n};\nconst _hoisted_29 = {\n  class: \"meta\"\n};\nconst _hoisted_30 = {\n  class: \"ten wide column segment ui\",\n  ref: \"map\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createVNode(_Transition, {\n    name: \"toastmotion\"\n  }, {\n    default: _withCtx(() => [$setup.showToast ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _hoisted_4)) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"form\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"coords\",\n    ref: \"latLngRef\",\n    placeholder: \"Search for a place\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.coords = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.findNearby && $options.findNearby(...args))\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelText, $data.coords]]), _createElementVNode(\"input\", {\n    type: \"text\",\n    ref: \"addRef\",\n    onChange: _cache[2] || (_cache[2] = $event => _ctx.$emit('update:add', $event.target.value)),\n    value: $data.add,\n    placeholder: \"Enter a place\"\n  }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_10), _createElementVNode(\"i\", {\n    class: \"search link icon\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.findNearby && $options.findNearby(...args))\n  })])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.type = $event)\n  }, _hoisted_17, 512 /* NEED_PATCH */), [[_vModelSelect, $data.type]])]), _createElementVNode(\"div\", _hoisted_18, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.radius = $event)\n  }, _hoisted_24, 512 /* NEED_PATCH */), [[_vModelSelect, $data.radius]])])])]), _createElementVNode(\"button\", {\n    class: \"ui button pink\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.findNearby && $options.findNearby(...args))\n  }, \"Find Locations\")]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.places, place => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"item\",\n      key: place.id\n    }, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, _toDisplayString(place.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_29, _toDisplayString(place.vicinity), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_30, null, 512 /* NEED_PATCH */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;gEACIA,oBAAmG;EAA7FC,GAAG,EAAC,YAAY;EAACC,IAAI,EAAC;;;;EAGnBC,KAAK,EAAC;;gEACPH,oBAEM;EAFDG,KAAK,EAAC;AAAY,GAAC,cAExB;oBAFAC,UAEM;;EAITD,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAiB;;EAClBA,KAAK,EAAC;AAAuB;;EAC1BA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAA2B;;;EAOrCA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAO;iEAEVH,oBAAwD;EAAhDK,KAAK,EAAC,YAAY;EAACC,QAAQ,EAAR;GAAS,aAAW;iEAC/CN,oBAAiC;EAAzBK,KAAK,EAAC;AAAK,GAAC,MAAI;iEACxBL,oBAA8C;EAAtCK,KAAK,EAAC;AAAY,GAAC,YAAU;qBAFrCE,WAAwD,EACxDC,WAAiC,EACjCC,WAA8C;;EAKjDN,KAAK,EAAC;AAAO;;qBAEVO,WAAwC;;EAavDP,KAAK,EAAC,YAAY;EAACQ,KAA0C,EAA1C;IAAA;IAAA;EAAA;;;EACfR,KAAK,EAAC;AAAkB;;EAEhBA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAM;;EAOhCA,KAAK,EAAC,4BAA4B;EAACS,GAAG,EAAC;;;6DA3DhDC,UAAmG,EAEnGC,aAMaC;IANDC,IAAI,EAAC;EAAa;sBAC1B,MAIM,CAJwBC,gBAAS,kBAAvCC,oBAIM,OAJNC,UAIM;;MAGVnB,oBAmDM,OAnDNoB,UAmDM,GAlDFpB,oBA+CM,OA/CNqB,UA+CM,GA9CFrB,oBAiCO,QAjCPsB,UAiCO,GAhCHtB,oBAMM,OANNuB,UAMM,GALFvB,oBAIM,OAJNwB,UAIM,mBAHFxB,oBAAsH;IAA/GyB,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,QAAQ;IAACd,GAAG,EAAC,WAAW;IAACe,WAAW,EAAC,oBAAoB;+DAAUC,YAAM;IAAGC,QAAM,yCAAEC,mDAAU;iEAA3BF,YAAM,KAC/F5B,oBAA4H;IAArHyB,IAAI,EAAC,MAAM;IAACb,GAAG,EAAC,QAAQ;IAAEiB,QAAM,sCAAEE,UAAK,eAAeC,MAAM,CAACC,MAAM,CAAC5B,KAAK;IAAIA,KAAK,EAAEuB,SAAG;IAAED,WAAW,EAAC;yDAC5G3B,oBAAoD;IAAjDG,KAAK,EAAC,kBAAkB;IAAE+B,OAAK,yCAAEJ,mDAAU;UAItD9B,oBAqBM,OArBNmC,WAqBM,GApBFnC,oBAmBM,OAnBNoC,WAmBM,GAlBFpC,oBAMM,OANNqC,WAMM,mBALFrC,oBAIS;+DAJQ4B,UAAI;0DAAJA,UAAI,OAQzB5B,oBAQM,OARNsC,WAQM,mBAPFtC,oBAMS;+DANQ4B,YAAM;0DAANA,YAAM,WAWnC5B,oBAA0E;IAAlEG,KAAK,EAAC,gBAAgB;IAAE+B,OAAK,yCAAEJ,mDAAU;KAAE,gBAAc,KAGrE9B,oBASM,OATNuC,WASM,GARFvC,oBAOM,OAPNwC,WAOM,sBANFtB,oBAKMuB,6BAL4Bb,YAAM,EAAfc,KAAK;yBAA9BxB,oBAKM;MALDf,KAAK,EAAC,MAAM;MAA0BwC,GAAG,EAAED,KAAK,CAAChB;QAClD1B,oBAGM,OAHN4C,WAGM,GAFF5C,oBAAwC,OAAxC6C,WAAwC,mBAAlBH,KAAK,CAAC1B,IAAI,kBAChChB,oBAA0C,OAA1C8C,WAA0C,mBAAtBJ,KAAK,CAACK,QAAQ;wCAOtD/C,oBACM,OADNgD,WACM","names":["_createElementVNode","rel","href","class","_hoisted_3","value","selected","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_19","style","ref","_hoisted_1","_createVNode","_Transition","name","$setup","_createElementBlock","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","type","id","placeholder","$data","onChange","$options","_ctx","$event","target","onClick","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_18","_hoisted_25","_hoisted_26","_Fragment","place","key","_hoisted_27","_hoisted_28","_hoisted_29","vicinity","_hoisted_30"],"sourceRoot":"","sources":["C:\\Users\\Dell\\Documents\\GitHub\\wad2test1\\src\\components\\NearbyPlaces.vue"],"sourcesContent":["<template>\r\n    <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"/>\r\n    \r\n    <transition name=\"toastmotion\">\r\n        <div class=\"toast-wrap\" v-if=\"showToast\">\r\n            <div class=\"toastnotif\">\r\n                loading...\r\n            </div>\r\n        </div>\r\n    </transition>\r\n\r\n    <div class=\"ui grid\">\r\n        <div class=\"six wide column\">\r\n            <form class=\"ui segment large form\">\r\n                <div class=\"field\">\r\n                    <div class=\"ui right icon input large\">\r\n                        <input type=\"text\" id=\"coords\" ref=\"latLngRef\" placeholder=\"Search for a place\" v-model=\"coords\" @change=\"findNearby\">\r\n                        <input type=\"text\" ref=\"addRef\" @change=\"$emit('update:add', $event.target.value)\" :value=\"add\" placeholder=\"Enter a place\">\r\n                        <i class=\"search link icon\" @click=\"findNearby\"></i>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"field\">\r\n                    <div class=\"two fields\">\r\n                        <div class=\"field\">\r\n                            <select v-model=\"type\">\r\n                                <option value=\"restaurant\" selected>Restaurants</option>\r\n                                <option value=\"bar\">Bars</option>\r\n                                <option value=\"activities\">Activities</option>\r\n                            </select>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"field\">\r\n                            <select v-model=\"radius\">\r\n                                <option value=\"1\" selected>1 KM</option>\r\n                                <option value=\"2\">2 KM</option>\r\n                                <option value=\"3\">3 KM</option>\r\n                                <option value=\"4\">4 KM</option>\r\n                                <option value=\"5\">5 KM</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <button class=\"ui button pink\" @click=\"findNearby\">Find Locations</button>\r\n            </form>\r\n\r\n            <div class=\"ui segment\" style=\"max-height: 500px; overflow:scroll\">\r\n                <div class=\"ui divided items\">\r\n                    <div class=\"item\" v-for=\"place in places\" :key=\"place.id\">\r\n                        <div class=\"content\">\r\n                            <div class=\"header\">{{place.name}}</div>\r\n                            <div class=\"meta\">{{place.vicinity}}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"ten wide column segment ui\" ref=\"map\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script> \r\nimport axios from 'axios';\r\nimport { ref } from 'vue';\r\n// import PlaceAutocomplete from './PlaceAutocomplete.vue';\r\nimport { onMounted } from 'vue';\r\n\r\n\r\n\r\n/* eslint-disable */\r\nexport default {\r\n    setup() {\r\n\r\n        const showToast = ref(true);\r\n        const hideToast = () => {\r\n            showToast.value = false;\r\n        };\r\n\r\n\r\n        const addRef = ref();\r\n        \r\n\r\n        onMounted(() => {\r\n            const autoComplete = new google.maps.places.Autocomplete(addRef.value, {\r\n                types: ['address'],\r\n                fields: ['address_components', 'geometry']\r\n            });\r\n\r\n            autoComplete.addListener('place_changed', () => {\r\n                const place = autoComplete.getPlace();\r\n                const lat = place.geometry.location.lat();\r\n                const lng = place.geometry.location.lng();\r\n                document.getElementById('coords').value = `${lat}, ${lng}`;\r\n            });\r\n\r\n            \r\n\r\n\r\n        })\r\n\r\n        \r\n        return { showToast, hideToast, addRef };\r\n    },\r\n    data() {\r\n        return {\r\n            type: \"restaurant\",\r\n            radius: \"1\",\r\n            lat: 0,\r\n            lng: 0,\r\n            places: [],\r\n            mapDisplay: false,\r\n            search: \"\",\r\n            add: \"\",\r\n            coords: \"\"\r\n        };\r\n    },\r\n    computed: {\r\n        coordinates() {\r\n            return `${this.lat}, ${this.lng}`;\r\n        }\r\n    },\r\n    methods: {\r\n        findLocations() {\r\n            navigator.geolocation.getCurrentPosition(position => {\r\n                this.lat = position.coords.latitude;\r\n                this.lng = position.coords.longitude;\r\n            }, error => {\r\n                console.log(\"Error getting location\");\r\n            });\r\n        },\r\n        findNearby() {\r\n            const URL = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.lat},${this.lng}&type=${this.type}&radius=${this.radius * 1000}&key=AIzaSyCTHZllCldMYoM9ByF8AcxKPWvIuFJsTx4`;\r\n            this.showToast = true;\r\n            axios.get(URL)\r\n                .then(response => {\r\n                this.places = response.data.results;\r\n                this.addLocationsToGoogleMaps();\r\n            })\r\n                .catch(error => {\r\n                console.log(error.message);\r\n            });\r\n        },\r\n        addLocationsToGoogleMaps() {\r\n            var map = new google.maps.Map(this.$refs[\"map\"], {\r\n                zoom: 17,\r\n                center: new google.maps.LatLng(this.lat, this.lng),\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP\r\n            });\r\n            this.mapDisplay = true;\r\n            \r\n            \r\n            var infowindow = new google.maps.InfoWindow();\r\n            this.places.forEach(place => {\r\n                const lat = place.geometry.location.lat;\r\n                const lng = place.geometry.location.lng;\r\n                let marker = new google.maps.Marker({\r\n                    position: new google.maps.LatLng(lat, lng),\r\n                    map: map\r\n                });\r\n                google.maps.event.addListener(marker, \"click\", () => {\r\n                    infowindow.setContent(`<div class=\"ui header\">${place.name}</div>\r\n                        <p>${place.vicinity}</p>`);\r\n                    infowindow.open(map, marker);\r\n                });\r\n            });\r\n\r\n            \r\n        }\r\n    },\r\n    mounted() {\r\n        this.findLocations();\r\n    },\r\n    watch:{\r\n        coords(){\r\n            this.lat = this.coords.split(\",\")[0];\r\n            this.lng = this.coords.split(\",\")[1];\r\n        },\r\n        coordinates() {\r\n            this.findNearby();\r\n        },\r\n        mapDisplay() {\r\n            this.hideToast();\r\n            this.mapDisplay = false;\r\n        } \r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .toast-wrap {\r\n        position: fixed;\r\n        width: 100%;\r\n        top: 20px;\r\n        z-index: 99999999;\r\n    }\r\n    .toastnotif {\r\n        padding: 20px;\r\n        color: white;\r\n        background: #ff0062;\r\n        border-radius: 10px;\r\n        box-shadow: 1px 3px 5px rgba(0,0,0,0.2);\r\n        max-width: 400px;\r\n        margin: 0 auto;\r\n        z-index: 99999999;\r\n    }\r\n    .toastmotion-enter-from {\r\n        opacity: 0;\r\n        transform: translateY(-60px);\r\n    }\r\n\r\n    .toastmotion-enter-to {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n\r\n    .toastmotion-enter-active {\r\n        transition: all 0.3s ease;\r\n    }\r\n\r\n    .toastmotion-leave-from {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n\r\n    .toastmotion-leave-to {\r\n        opacity: 0;\r\n        transform: translateY(-60px);\r\n    }\r\n\r\n    .toastmotion-leave-active {\r\n        transition: all 0.3s ease;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}