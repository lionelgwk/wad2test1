{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3d6d0a5b\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"link\", {\n  rel: \"stylesheet\",\n  href: \"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_2 = {\n  key: 0,\n  class: \"toast-wrap\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"toastnotif\"\n}, \" loading... \", -1 /* HOISTED */));\nconst _hoisted_4 = [_hoisted_3];\nconst _hoisted_5 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"col-lg-4 col-md-6 col-sm-12\"\n};\nconst _hoisted_8 = {\n  class: \"ui segment large form\"\n};\nconst _hoisted_9 = {\n  class: \"field\"\n};\nconst _hoisted_10 = {\n  class: \"ui right icon input large\"\n};\nconst _hoisted_11 = {\n  type: \"text\",\n  id: \"placeEnter\",\n  placeholder: \"Enter a place\",\n  ref: \"add\",\n  autocomplete: \"on\"\n};\nconst _hoisted_12 = {\n  class: \"field\"\n};\nconst _hoisted_13 = {\n  class: \"two fields\"\n};\nconst _hoisted_14 = {\n  class: \"field\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"restaurant\\\" selected data-v-3d6d0a5b>Restaurants</option><option value=\\\"bar\\\" data-v-3d6d0a5b>Bars</option><option value=\\\"cafe\\\" data-v-3d6d0a5b>Cafes</option><option value=\\\"bowling_alley\\\" data-v-3d6d0a5b>Bowling</option><option value=\\\"bicycle_store\\\" data-v-3d6d0a5b>Cycling</option><option value=\\\"campground\\\" data-v-3d6d0a5b>Camping</option><option value=\\\"clothing_store\\\" data-v-3d6d0a5b>Clothes Shopping</option><option value=\\\"shoe_store\\\" data-v-3d6d0a5b>Shoe Shopping</option><option value=\\\"jewelry_store\\\" data-v-3d6d0a5b>Jewelry Shopping</option><option value=\\\"museum\\\" data-v-3d6d0a5b>Museums</option><option value=\\\"movie_theater\\\" data-v-3d6d0a5b>Movies</option><option value=\\\"casino\\\" data-v-3d6d0a5b>Casinos</option><option value=\\\"park\\\" data-v-3d6d0a5b>Parks</option><option value=\\\"night_club\\\" data-v-3d6d0a5b>Night Clubs</option><option value=\\\"tourist_attraction\\\" data-v-3d6d0a5b>Sightseeing</option><option value=\\\"spa\\\" data-v-3d6d0a5b>Spas</option><option value=\\\"gym\\\" data-v-3d6d0a5b>Workout</option>\", 17);\nconst _hoisted_32 = [_hoisted_15];\nconst _hoisted_33 = {\n  class: \"field\"\n};\nconst _hoisted_34 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"0.2\\\" selected data-v-3d6d0a5b>200M</option><option value=\\\"0.4\\\" data-v-3d6d0a5b>400M</option><option value=\\\"0.6\\\" data-v-3d6d0a5b>600M</option><option value=\\\"0.8\\\" data-v-3d6d0a5b>800M</option><option value=\\\"1\\\" data-v-3d6d0a5b>1 KM</option>\", 5);\nconst _hoisted_39 = [_hoisted_34];\nconst _hoisted_40 = {\n  class: \"ui segment\",\n  style: {\n    \"height\": \"30vh\",\n    \"overflow\": \"scroll\"\n  }\n};\nconst _hoisted_41 = {\n  class: \"ui divided items\"\n};\nconst _hoisted_42 = {\n  class: \"content\"\n};\nconst _hoisted_43 = {\n  class: \"header\"\n};\nconst _hoisted_44 = {\n  class: \"meta\"\n};\nconst _hoisted_45 = [\"onClick\"];\nconst _hoisted_46 = {\n  key: 0,\n  class: \"ui segment\",\n  style: {\n    \"height\": \"10vh\"\n  }\n};\nconst _hoisted_47 = {\n  class: \"col-lg-8 col-md-6 col-sm-12\",\n  ref: \"map\",\n  style: {\n    \"height\": \"55vh\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createVNode(_Transition, {\n    name: \"toastmotion\"\n  }, {\n    default: _withCtx(() => [$data.showToast ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _hoisted_4)) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"form\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"input\", _hoisted_11, null, 512 /* NEED_PATCH */), _createElementVNode(\"i\", {\n    class: \"search icon\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.findNearby && $options.findNearby(...args))\n  })])]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.type = $event)\n  }, _hoisted_32, 512 /* NEED_PATCH */), [[_vModelSelect, $data.type]])]), _createElementVNode(\"div\", _hoisted_33, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.radius = $event)\n  }, _hoisted_39, 512 /* NEED_PATCH */), [[_vModelSelect, $data.radius]])])])]), _createElementVNode(\"button\", {\n    class: \"ui button pink\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.findNearby && $options.findNearby(...args))\n  }, \"Find Locations\")]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"div\", _hoisted_41, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.places, place => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"item\",\n      key: place.id\n    }, [_createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"div\", _hoisted_43, _toDisplayString(place.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_44, _toDisplayString(place.vicinity), 1 /* TEXT */), _createElementVNode(\"button\", {\n      class: \"ui button blue\",\n      onClick: $event => $options.addPlace(place)\n    }, \"Add Activity\", 8 /* PROPS */, _hoisted_45)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), $data.places == [] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, \"Your suggestions will appear here! \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_47, null, 512 /* NEED_PATCH */)])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;gEACIA,oBAAmG;EAA7FC,GAAG,EAAC,YAAY;EAACC,IAAI,EAAC;;;;EAGnBC,KAAK,EAAC;;gEACPH,oBAEM;EAFDG,KAAK,EAAC;AAAY,GAAC,cAExB;oBAFAC,UAEM;;EAGTD,KAAK,EAAC;AAAiB;;EACvBA,KAAK,EAAC;AAAK;;EACPA,KAAK,EAAC;AAA6B;;EAC9BA,KAAK,EAAC;AAAuB;;EAC1BA,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAA2B;;EAC3BE,IAAI,EAAC,MAAM;EAACC,EAAE,EAAC,YAAY;EAACC,WAAW,EAAC,eAAe;EAACC,GAAG,EAAC,KAAK;EAACC,YAAY,EAAC;;;EAKzFN,KAAK,EAAC;AAAO;;EACTA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAO;;qBAEVO,WAAwD;;EAqB3DP,KAAK,EAAC;AAAO;;qBAEVQ,WAA0C;;EAazDR,KAAK,EAAC,YAAY;EAACS,KAAqC,EAArC;IAAA;IAAA;EAAA;;;EACfT,KAAK,EAAC;AAAkB;;EAEhBA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAM;;;;EAMVA,KAAK,EAAC,YAAY;EAACS,KAAmB,EAAnB;IAAA;EAAA;;;EAKzCT,KAAK,EAAC,6BAA6B;EAACK,GAAG,EAAC,KAAK;EAACI,KAAqB,EAArB;IAAA;EAAA;;;6DA5EvDC,UAAmG,EAEnGC,aAMaC;IANDC,IAAI,EAAC;EAAa;sBAC1B,MAIM,CAJwBC,eAAS,kBAAvCC,oBAIM,OAJNC,UAIM;;MAEVnB,oBAsEE,OAtEFoB,UAsEE,GArEFpB,oBAoEM,OApENqB,UAoEM,GAnEFrB,oBAgEM,OAhENsB,UAgEM,GA/DFtB,oBA8CO,QA9CPuB,UA8CO,GA7CHvB,oBAKM,OALNwB,UAKM,GAJFxB,oBAGM,OAHNyB,WAGM,GAFFzB,oBAA4F,SAA5F0B,WAA4F,+BAC5F1B,oBAA+C;IAA5CG,KAAK,EAAC,aAAa;IAAEwB,OAAK,yCAAEC,mDAAU;UAIjD5B,oBAmCM,OAnCN6B,WAmCM,GAlCF7B,oBAiCM,OAjCN8B,WAiCM,GAhCF9B,oBAoBM,OApBN+B,WAoBM,mBAnBF/B,oBAkBS;+DAlBQiB,UAAI;0DAAJA,UAAI,OAsBzBjB,oBAQM,OARNgC,WAQM,mBAPFhC,oBAMS;+DANQiB,YAAM;0DAANA,YAAM,WAWnCjB,oBAA0E;IAAlEG,KAAK,EAAC,gBAAgB;IAAEwB,OAAK,yCAAEC,mDAAU;KAAE,gBAAc,KAGrE5B,oBAUM,OAVNiC,WAUM,GATFjC,oBAQM,OARNkC,WAQM,sBAPFhB,oBAMMiB,6BAN4BlB,YAAM,EAAfmB,KAAK;yBAA9BlB,oBAMM;MANDf,KAAK,EAAC,MAAM;MAA0BkC,GAAG,EAAED,KAAK,CAAC9B;QAClDN,oBAIM,OAJNsC,WAIM,GAHFtC,oBAAwC,OAAxCuC,WAAwC,mBAAlBH,KAAK,CAACpB,IAAI,kBAChChB,oBAA0C,OAA1CwC,WAA0C,mBAAtBJ,KAAK,CAACK,QAAQ,kBAClCzC,oBAA6E;MAArEG,KAAK,EAAC,gBAAgB;MAAEwB,OAAK,YAAEC,iBAAQ,CAACQ,KAAK;OAAG,cAAY;sCAKzEnB,YAAM,wBAAjBC,oBAEM,OAFNwB,WAEM,EAFwD,qCAE9D,0CAGJ1C,oBACM,OADN2C,WACM","names":["_createElementVNode","rel","href","class","_hoisted_3","type","id","placeholder","ref","autocomplete","_hoisted_15","_hoisted_34","style","_hoisted_1","_createVNode","_Transition","name","$data","_createElementBlock","_hoisted_2","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","onClick","$options","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_33","_hoisted_40","_hoisted_41","_Fragment","place","key","_hoisted_42","_hoisted_43","_hoisted_44","vicinity","_hoisted_46","_hoisted_47"],"sourceRoot":"","sources":["/Users/caitlinyap/Documents/GitHub/wad2test1/src/components/NearbyPlaces.vue"],"sourcesContent":["<template>\n    <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css\"/>\n    \n    <transition name=\"toastmotion\">\n        <div class=\"toast-wrap\" v-if=\"showToast\">\n            <div class=\"toastnotif\">\n                loading...\n            </div>\n        </div>\n    </transition>\n    <div class=\"container-fluid\">\n    <div class=\"row\">\n        <div class=\"col-lg-4 col-md-6 col-sm-12\">\n            <form class=\"ui segment large form\">\n                <div class=\"field\">\n                    <div class=\"ui right icon input large\">\n                        <input type=\"text\" id=\"placeEnter\" placeholder=\"Enter a place\" ref=\"add\" autocomplete=\"on\"/>\n                        <i class=\"search icon\" @click=\"findNearby\"></i>\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <div class=\"two fields\">\n                        <div class=\"field\">\n                            <select v-model=\"type\">\n                                <option value=\"restaurant\" selected>Restaurants</option>\n                                <option value=\"bar\">Bars</option>\n                                <option value=\"cafe\">Cafes</option>\n                                <option value=\"bowling_alley\">Bowling</option>\n                                <option value=\"bicycle_store\">Cycling</option>\n                                <option value=\"campground\">Camping</option>\n                                <option value=\"clothing_store\">Clothes Shopping</option>\n                                <option value=\"shoe_store\">Shoe Shopping</option>\n                                <option value=\"jewelry_store\">Jewelry Shopping</option>\n                                <option value=\"museum\">Museums</option>\n                                <option value=\"movie_theater\">Movies</option>\n                                <option value=\"casino\">Casinos</option>\n                                <option value=\"park\">Parks</option>\n                                <option value=\"night_club\">Night Clubs</option>\n                                <option value=\"tourist_attraction\">Sightseeing</option>\n                                <option value=\"spa\">Spas</option>\n                                <option value=\"gym\">Workout</option>\n                            </select>\n                        </div>\n\n\n                        <div class=\"field\">\n                            <select v-model=\"radius\">\n                                <option value=\"0.2\" selected>200M</option>\n                                <option value=\"0.4\">400M</option>\n                                <option value=\"0.6\">600M</option>\n                                <option value=\"0.8\">800M</option>\n                                <option value=\"1\">1 KM</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                <button class=\"ui button pink\" @click=\"findNearby\">Find Locations</button>\n            </form>\n\n            <div class=\"ui segment\" style=\"height: 30vh; overflow:scroll\">\n                <div class=\"ui divided items\">\n                    <div class=\"item\" v-for=\"place in places\" :key=\"place.id\">\n                        <div class=\"content\">\n                            <div class=\"header\">{{place.name}}</div>\n                            <div class=\"meta\">{{place.vicinity}}</div>\n                            <button class=\"ui button blue\" @click=\"addPlace(place)\">Add Activity</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div v-if=\"places==[]\" class=\"ui segment\" style=\"height:10vh\">Your suggestions will appear here!\n\n            </div>\n\n        </div>\n        <div class=\"col-lg-8 col-md-6 col-sm-12\" ref=\"map\" style=\"height: 55vh;\">\n        </div>\n    </div>\n</div>\n</template>\n\n<script> \nimport axios from 'axios';\n\n// import PlaceAutocomplete from './PlaceAutocomplete.vue';\n\n\n\n\n/* eslint-disable */\nexport default {\n    mounted() {\n        this.findLocations();\n\n        const autocomplete = new google.maps.places.Autocomplete(this.$refs[\"add\"],\n        {\n            bounds: new google.maps.LatLngBounds(\n                new google.maps.LatLng(1.3521, 103.8198)\n            ),\n            componentRestrictions: { country: \"sg\" },\n            type: [\"address\", \"establishment\", \"point_of_interest\", \"food\"],\n        });\n\n        \n        autocomplete.addListener('place_changed', () => {\n            const place = autocomplete.getPlace();\n            const lat = place.geometry.location.lat();\n            const lng = place.geometry.location.lng();\n            this.lat = lat;\n            this.lng = lng;\n            \n        });\n    },\n    data() {\n        return {\n            type: \"restaurant\",\n            radius: \"0.2\",\n            lat: 0,\n            lng: 0,\n            places: [],\n            mapDisplay: false,\n            search: \"\",\n            showToast: true,\n        };\n    },\n    emits: [\"add-place\"],\n    computed: {\n        coordinates() {\n            return `${this.lat}, ${this.lng}`;\n        }\n    },\n    methods: {\n        addPlace(place){\n            this.$emit('add-place', place);\n            console.log(place);\n        },\n        findLocations() {\n            navigator.geolocation.getCurrentPosition(position => {\n                this.lat = position.coords.latitude;\n                this.lng = position.coords.longitude;\n            }, error => {\n                console.log(\"Error getting location\");\n            });\n        },\n        findNearby() {\n            const URL = `https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.lat},${this.lng}&type=${this.type}&radius=${this.radius * 1000}&key=AIzaSyCTHZllCldMYoM9ByF8AcxKPWvIuFJsTx4`;\n            this.showToast = true;\n            axios.get(URL)\n                .then(response => {\n                this.places = response.data.results;\n                this.addLocationsToGoogleMaps();\n                \n            })\n                .catch(error => {\n                console.log(error.message);\n            });\n        },\n        addLocationsToGoogleMaps() {\n            var map = new google.maps.Map(this.$refs[\"map\"], {\n                zoom: 17,\n                center: new google.maps.LatLng(this.lat, this.lng),\n                mapTypeId: google.maps.MapTypeId.ROADMAP\n            });\n\n            this.mapDisplay = true;\n            \n            \n            var infowindow = new google.maps.InfoWindow();\n            this.places.forEach(place => {\n                const lat = place.geometry.location.lat;\n                const lng = place.geometry.location.lng;\n                let marker = new google.maps.Marker({\n                    position: new google.maps.LatLng(lat, lng),\n                    map: map\n                });\n                google.maps.event.addListener(marker, \"click\", () => {\n                    infowindow.setContent(`<div class=\"ui header\">${place.name}</div>\n                        <p>${place.vicinity}</p>`);\n                    infowindow.open(map, marker);\n                });\n            });\n\n            \n        }\n    },\n    watch:{\n        coordinates() {\n            this.findNearby();\n        },\n        type() {\n            this.findNearby();\n        },\n        radius() {\n            this.findNearby();\n        },\n        lat() {\n            this.findNearby();\n        },\n        lng() {\n            this.findNearby();\n        },\n        mapDisplay() {\n            this.showToast = false;\n            this.mapDisplay = false;\n        } \n    },\n}\n</script>\n\n<style scoped>\n  .toast-wrap {\n        position: fixed;\n        width: 100%;\n        top: 20px;\n        z-index: 99999999;\n    }\n    .toastnotif {\n        padding: 20px;\n        color: white;\n        background: #ff0062;\n        border-radius: 10px;\n        box-shadow: 1px 3px 5px rgba(0,0,0,0.2);\n        max-width: 400px;\n        margin: 0 auto;\n        z-index: 99999999;\n    }\n    .toastmotion-enter-from {\n        opacity: 0;\n        transform: translateY(-60px);\n    }\n\n    .toastmotion-enter-to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n\n    .toastmotion-enter-active {\n        transition: all 0.3s ease;\n    }\n\n    .toastmotion-leave-from {\n        opacity: 1;\n        transform: translateY(0);\n    }\n\n    .toastmotion-leave-to {\n        opacity: 0;\n        transform: translateY(-60px);\n    }\n\n    .toastmotion-leave-active {\n        transition: all 0.3s ease;\n    }\n\n</style>"]},"metadata":{},"sourceType":"module"}