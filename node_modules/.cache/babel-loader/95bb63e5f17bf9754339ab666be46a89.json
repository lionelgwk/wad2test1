{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport db from '@/fb';\nimport { getAuth } from \"firebase/auth\";\nexport default {\n  data() {\n    return {\n      myParties: [],\n      theirParties: [],\n      imgURL: 'https://media.istockphoto.com/photos/festival-event-party-with-hipster-people-blurred-background-picture-id613897214?b=1&k=20&m=613897214&s=170667a&w=0&h=-kMh6hhUXyGXn9sRXXj_Nc4aqalA3jCoqFUGsg3AG2I='\n    };\n  },\n  methods: {\n    sortBy(prop) {\n      this.projects.sort((a, b) => a[prop] < b[prop] ? -1 : 1);\n    },\n    changeImage(url) {\n      this.imgURL = url;\n    }\n  },\n  mounted() {\n    const auth = getAuth();\n    const user = auth.currentUser;\n    db.collection('parties').onSnapshot(res => {\n      const changes = res.docChanges();\n      changes.forEach(change => {\n        if (change.type === 'added') {\n          if (change.doc.data().partyLeader == user.email) {\n            this.myParties.push({\n              ...change.doc.data(),\n              id: change.doc.id\n            });\n          } else {\n            for (var i = 0; i < change.doc.data().friends.length; i++) {\n              var involvesUser = false;\n              if (change.doc.data().friends[i].email == user.email) {\n                involvesUser = true;\n              }\n              if (involvesUser) {\n                this.theirParties.push({\n                  ...change.doc.data(),\n                  id: change.doc.id\n                });\n              }\n            }\n          }\n          // console.log(change.doc.data().friends.email);\n          console.log(user.email);\n        }\n      });\n    });\n    console.log(this.myParties);\n  }\n};","map":{"version":3,"mappings":";AA6EE,OAAOA,EAAC,MAAO,MAAM;AACrB,SAASC,OAAM,QAAS,eAAe;AAGvC,eAAc;EACVC,IAAI,GAAE;IACF,OAAO;MACHC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE,EAAE;MAChBC,MAAM,EAAE;IAEZ;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,MAAM,CAACC,IAAI,EAAC;MACR,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAKD,CAAC,CAACH,IAAI,IAAII,CAAC,CAACJ,IAAI,IAAI,CAAC,IAAI,CAAC;IAC1D,CAAC;IACDK,WAAW,CAACC,GAAG,EAAC;MACZ,IAAI,CAACT,MAAK,GAAIS,GAAG;IACrB;EACJ,CAAC;EACDC,OAAO,GAAE;IACL,MAAMC,IAAG,GAAIf,OAAO,EAAE;IACtB,MAAMgB,IAAG,GAAID,IAAI,CAACE,WAAW;IAG7BlB,EAAE,CAACmB,UAAU,CAAC,SAAS,CAAC,CAACC,UAAU,CAACC,GAAE,IAAK;MACvC,MAAMC,OAAM,GAAID,GAAG,CAACE,UAAU,EAAE;MAChCD,OAAO,CAACE,OAAO,CAACC,MAAK,IAAK;QACtB,IAAIA,MAAM,CAACC,IAAG,KAAM,OAAO,EAAC;UACxB,IAAID,MAAM,CAACE,GAAG,CAACzB,IAAI,EAAE,CAAC0B,WAAU,IAAKX,IAAI,CAACY,KAAK,EAAC;YAC5C,IAAI,CAAC1B,SAAS,CAAC2B,IAAI,CAAC;cAChB,GAAGL,MAAM,CAACE,GAAG,CAACzB,IAAI,EAAE;cACpB6B,EAAE,EAAEN,MAAM,CAACE,GAAG,CAACI;YACnB,CAAC;UACL,OACK;YACD,KAAK,IAAIC,IAAI,CAAC,EAAEA,IAAIP,MAAM,CAACE,GAAG,CAACzB,IAAI,EAAE,CAAC+B,OAAO,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAC;cACtD,IAAIG,YAAW,GAAI,KAAK;cACxB,IAAIV,MAAM,CAACE,GAAG,CAACzB,IAAI,EAAE,CAAC+B,OAAO,CAACD,CAAC,CAAC,CAACH,KAAI,IAAKZ,IAAI,CAACY,KAAK,EAAC;gBACjDM,YAAW,GAAI,IAAI;cACvB;cACA,IAAIA,YAAY,EAAC;gBACjB,IAAI,CAAC/B,YAAY,CAAC0B,IAAI,CAAC;kBACnB,GAAGL,MAAM,CAACE,GAAG,CAACzB,IAAI,EAAE;kBACpB6B,EAAE,EAAEN,MAAM,CAACE,GAAG,CAACI;gBACnB,CAAC;cACL;YACA;UAEJ;UACA;UACAK,OAAO,CAACC,GAAG,CAACpB,IAAI,CAACY,KAAK,CAAC;QAC3B;MACJ,CAAC;IACL,CAAC;IACDO,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClC,SAAS;EAC9B;AACJ","names":["db","getAuth","data","myParties","theirParties","imgURL","methods","sortBy","prop","projects","sort","a","b","changeImage","url","mounted","auth","user","currentUser","collection","onSnapshot","res","changes","docChanges","forEach","change","type","doc","partyLeader","email","push","id","i","friends","length","involvesUser","console","log"],"sourceRoot":"","sources":["/Users/lionel/Documents/GitHub/wad2test1/src/components/DashboardEvents.vue"],"sourcesContent":["<template>\n\n  <div>\n    <!-- None  <576px, sm  ≥576px, md  ≥768px, lg  ≥992px, xl  ≥1200px, xxl  ≥1400px -->\n    <div class='container-fluid'>\n        <div class='row'>\n            <div class='col-4'>\n\n            </div> <!-- col -->\n        </div> <!-- row -->\n    </div> <!-- container -->\n    \n      \n      <br>\n      <div class=\"container\" id=\"bg\">\n        <div class=\"box\">\n          <h1>Parties Created</h1>\n        </div>\n        <div class=\"container fluid\">\n          <ul v-if=\"myParties.length > 0\" class=\"cards\">\n            <li v-for=\"party in myParties\" :key=\"party\">\n              <div class=\"card col-4\">\n                <router-link :to=\"{ name: 'eventdetails', params: {id: party.id} }\">\n                  <img :src=\"imgURL\" class=\"card__image\" alt=\"\" />\n                  <div class=\"card__overlay\">\n                    <h5 class=\"card__header\"> {{party.title}}</h5>\n                      <svg class=\"card__arc\" xmlns=\"http://www.w3.org/2000/svg\"><path/></svg>\n                      <img class=\"card__thumb\" src=\"https://i.imgur.com/7D7I6dI.png\" alt=\"\" />\n                      <div class=\"card__header-text\">\n                \n                        <h3 class=\"card__title\">{{ party.partyLeaderName }}</h3>\n                        <span class=\"card__status\">{{ party.date }}</span>\n                      </div>\n                \n                    <!-- <p class=\"card__description\">{{party.partyLeaderName}}</p> -->\n                  </div>\n                </router-link>\n              </div>\n            </li>\n          </ul>\n          <p v-if=\"myParties.length == 0\"> You have yet to create any parties! Click <router-link :to=\"{ name: 'createevent'}\" class=\"text-danger\">here</router-link> to start one!</p>\n        </div>\n  \n  \n    <div class=\"box\"><h1>Parties Joined</h1> </div>\n    <div class=\"container-fluid\">\n      <ul class=\"cards\" v-if=\"theirParties.length > 0\">\n\n        <li v-for=\"party in theirParties\" :key=\"party\">\n          <div class=\"card\">\n            <router-link :to=\"{ name: 'eventdetails', params: {id: party.id} }\">\n              <img :src=\"imgURL\" class=\"card__image\" alt=\"\" />\n              <div class=\"card__overlay\">\n                <h5 class=\"card__header\"> {{party.title}}</h5>\n                  <svg class=\"card__arc\" xmlns=\"http://www.w3.org/2000/svg\"><path/></svg>\n                  <img class=\"card__thumb\" src=\"https://i.imgur.com/7D7I6dI.png\" alt=\"\" />\n                  <div class=\"card__header-text\">\n                    <h3 class=\"card__title\">{{ party.partyLeaderName }}</h3>\n                    <span class=\"card__status\">{{ party.date }}</span>\n                  </div>\n                <p class=\"card__description\">{{party.partyLeaderName}}</p>\n              </div>\n            </router-link>\n          </div>\n        </li>\n        \n        <p v-if=\"theirParties.length == 0\"> You have not joined any parties! Why not start one?</p>\n      </ul>\n  </div>\n  </div>\n  </div>\n  \n  \n  \n  </template>\n  \n  <script scoped>\n  import db from '@/fb';\n  import { getAuth } from \"firebase/auth\";\n  \n  \n  export default{\n      data(){\n          return {\n              myParties: [],\n              theirParties: [],\n              imgURL: 'https://media.istockphoto.com/photos/festival-event-party-with-hipster-people-blurred-background-picture-id613897214?b=1&k=20&m=613897214&s=170667a&w=0&h=-kMh6hhUXyGXn9sRXXj_Nc4aqalA3jCoqFUGsg3AG2I='\n              \n          }\n      },\n      methods:{\n          sortBy(prop){\n              this.projects.sort((a,b) => a[prop] < b[prop] ? -1 : 1)\n          },\n          changeImage(url){\n              this.imgURL = url;\n          }\n      },\n      mounted(){\n          const auth = getAuth();\n          const user = auth.currentUser;\n  \n  \n          db.collection('parties').onSnapshot(res => {\n              const changes = res.docChanges();\n              changes.forEach(change => {\n                  if (change.type === 'added'){\n                      if (change.doc.data().partyLeader == user.email){\n                          this.myParties.push({\n                              ...change.doc.data(),\n                              id: change.doc.id\n                          })\n                      }\n                      else {\n                          for (var i = 0; i < change.doc.data().friends.length; i++){\n                              var involvesUser = false;\n                              if (change.doc.data().friends[i].email == user.email){\n                                  involvesUser = true;\n                              }\n                              if (involvesUser){\n                              this.theirParties.push({\n                                  ...change.doc.data(),\n                                  id: change.doc.id\n                              })\n                          }\n                          }\n                          \n                      }\n                      // console.log(change.doc.data().friends.email);\n                      console.log(user.email);\n                  }\n              })\n          })\n          console.log(this.myParties)\n      }\n  }\n  </script>\n  \n  <style scoped>\n\n  </style>"]},"metadata":{},"sourceType":"module"}