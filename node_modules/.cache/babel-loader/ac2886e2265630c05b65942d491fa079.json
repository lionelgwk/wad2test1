{"ast":null,"code":"import { onUnmounted, onMounted, ref } from \"vue\";\nexport function useGeolocation() {\n  const coords = ref({\n    latitude: 0,\n    longitude: 0\n  });\n  const isSupported = 'navigator' in window && 'geolocation' in navigator;\n  let watcher = null;\n  created(() => {\n    if (isSupported) watcher = navigator.geolocation.watchPosition(position => coords.value = position.coords);\n  });\n  onUnmounted(() => {\n    if (watcher) navigator.geolocation.clearWatch(watcher);\n  });\n  return {\n    coords,\n    isSupported\n  };\n}","map":{"version":3,"names":["onUnmounted","onMounted","ref","useGeolocation","coords","latitude","longitude","isSupported","window","navigator","watcher","created","geolocation","watchPosition","position","value","clearWatch"],"sources":["/Users/lionel/Documents/GitHub/wad2test1/src/useGeolocation.js"],"sourcesContent":["import { onUnmounted, onMounted, ref } from \"vue\";\n\nexport function useGeolocation() {\n    const coords = ref({ latitude: 0, longitude: 0})\n    const isSupported = 'navigator' in window && 'geolocation' in navigator\n\n    let watcher = null\n    created (() => {\n        if (isSupported)\n            watcher = navigator.geolocation.watchPosition(\n                position => (coords.value = position.coords)\n            )\n        })\n    \n    onUnmounted(() => {\n        if (watcher) navigator.geolocation.clearWatch(watcher)\n    })\n\n    return {coords, isSupported}\n}"],"mappings":"AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,GAAG,QAAQ,KAAK;AAEjD,OAAO,SAASC,cAAc,GAAG;EAC7B,MAAMC,MAAM,GAAGF,GAAG,CAAC;IAAEG,QAAQ,EAAE,CAAC;IAAEC,SAAS,EAAE;EAAC,CAAC,CAAC;EAChD,MAAMC,WAAW,GAAG,WAAW,IAAIC,MAAM,IAAI,aAAa,IAAIC,SAAS;EAEvE,IAAIC,OAAO,GAAG,IAAI;EAClBC,OAAO,CAAE,MAAM;IACX,IAAIJ,WAAW,EACXG,OAAO,GAAGD,SAAS,CAACG,WAAW,CAACC,aAAa,CACzCC,QAAQ,IAAKV,MAAM,CAACW,KAAK,GAAGD,QAAQ,CAACV,MAAO,CAC/C;EACL,CAAC,CAAC;EAENJ,WAAW,CAAC,MAAM;IACd,IAAIU,OAAO,EAAED,SAAS,CAACG,WAAW,CAACI,UAAU,CAACN,OAAO,CAAC;EAC1D,CAAC,CAAC;EAEF,OAAO;IAACN,MAAM;IAAEG;EAAW,CAAC;AAChC"},"metadata":{},"sourceType":"module"}